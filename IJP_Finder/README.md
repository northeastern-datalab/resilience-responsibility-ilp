# Code for DLP[RESIJP]

This repository contains the code to generate DLP[RESIJP] for an arbitrary query and domain and run the generated DLP [Clingo](https://potassco.org/clingo/).
We also include all our programs and output.

# Description
 
The core components of this repository are:

Code:
- `ijp_asp_generator.py`: This is a Python file that generates an ASP for a given "case number". 
Each case specifies the query and domain to generate an ASP for, as well as other parameters.

- `ijp_expt_cases.csv`: Stores different configurations for which the ASP can be generated.
Each row (case) is identified by a case number. To run an ASP for a new case, you must specify it in this file.

- `queries.py`: Stores the CQ for which IJP can be generated.
If you wish to run the ASP for a new query, you can add the query to this file.

- `ijp_visualizers`: A Python notebook that visualizes the new IJPs generated and mentioned in the paper.

Data:
- `autogen_asp_scripts` - stores the automatically generated ASP scripts.
All scripts are named with the corresponding case number.

- `clingo_output` - stores the output generated by clingo after running specific ASP.
All outputs are named with the corresponding case number.

# Dependencies


[Clingo](https://potassco.org/clingo/) is the ASP Solver we use to run our DLP.

Clingo can be installed from: https://github.com/potassco/clingo/releases/
We use version 5.6.0


# Getting Started

1. Run an already generated ASP and save the output:

    ``
    clingo  autogen_asp_scripts\ijp_expt_cases-0.dl > clingo_ouput/ijp_expt_case-0.txt
    ``

2. Generate an ASP program:
    
    a. In `ijp_expt_cases.csv`, find or create the csse number with the configuration you wish to run. The query names in the csv map to `queries.py`.

    b. Then generate and save the ASP with:

    ``
        python ijp_asp_generator.py {CASE_NUMBER} 
    ``

    The ASP will be written to ``autogen_asp_scripts\ijp_expt_cases-{CASE_NUMBER}.dl``

3. Generate an ASP program with a user-defined query:
    Follow all the steps in (2), but also add the query as a list of atoms and variables in ``queries.py``